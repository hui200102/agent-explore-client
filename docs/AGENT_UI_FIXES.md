# UI Improvements: Agent Components

针对用户反馈的 Agent 执行步骤 UI 显示丑陋的问题，进行了以下优化。

## 1. AgentProgressBar 组件重构

**问题分析**：
- 原组件设计仅适用于简短文本。
- 后端返回的文本非常长（包含详细步骤描述），导致布局崩坏。
- 文本中包含 Markdown 标记（如 `**Step**`）和特殊符号（`⚡`），直接作为纯文本渲染效果不佳。
- 颜色单一（全蓝），缺乏层次感。

**改进内容** (`components/chat/agent/progress-bar.tsx`)：
- **卡片式设计**：使用 `bg-card` 和 `shadow-sm`，与整体 UI 风格融合。
- **布局优化**：
  - 顶部：显示图标、步骤进度（Step X of Y）和百分比。
  - 中间：进度条，添加了微光动画效果。
  - 底部：详细描述文本，有独立区域和分隔线。
- **文本清洗**：自动移除文本中可能存在的 `⚡ **Step X/Y**: ` 前缀，避免信息重复。
- **长文本处理**：允许文本换行 (`break-words`)，使用更小的字体 (`text-xs`) 和更淡的颜色 (`text-muted-foreground`)，确保即使文本很长也不会破坏布局。

## 2. PlanCard 组件美化

**改进内容** (`components/chat/agent/plan-card.tsx`)：
- **风格统一**：与新的 `AgentProgressBar` 保持一致的卡片风格。
- **视觉增强**：
  - 图标添加了背景色 (`bg-primary/10`)。
  - 步骤序号添加了 Hover 效果（变色）。
  - 优化了间距和分割线。

## 3. 效果对比

**优化前**：
- 文字挤在一起，全是蓝色。
- 长文本导致换行混乱。
- 进度条被文字挤压。

**优化后**：
- 清晰的卡片结构。
- 关键信息（进度）和详细描述分层展示。
- 视觉上更加现代和整洁。

